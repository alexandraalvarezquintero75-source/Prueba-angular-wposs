@use './cart-variables' as *;
@use 'sass:color';

.product-item-card {
  display: grid;
  grid-template-columns: 150px 1fr auto auto;
  gap: 20px;
  align-items: center;
  padding: 20px;
  position: relative;
  @include card-style;
  @include transition;

  .product-image-wrapper {
    position: relative; overflow: hidden; border-radius: 8px; background: $bg-gray;
    img { width: 150px; height: 150px; object-fit: cover; transition: transform 0.4s ease; }
    .image-hover-overlay {
      position: absolute; inset: 0; background: rgba(44, 62, 80, 0.7);
      @include flex-center; opacity: 0; @include transition(opacity);
      mat-icon { color: white; font-size: 36px; }
    }
    &:hover { img { transform: scale(1.1); } .image-hover-overlay { opacity: 1; } }
  }
}
.product-item-card {
  display: grid;
  grid-template-columns: 150px 1fr auto auto;
  gap: 20px;
  align-items: center;
  padding: 20px;
  position: relative;
  @include card-style;
  @include transition;

  &:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    transform: translateY(-2px);
  }

  .product-image-wrapper {
    position: relative;
    cursor: pointer;
    overflow: hidden;
    border-radius: 8px;
    background: $bg-gray;

    img { width: 150px; height: 150px; object-fit: cover; transition: transform 0.4s ease; }

    .image-hover-overlay {
      position: absolute;
      inset: 0;
      background: rgba(44, 62, 80, 0.7);
      @include flex-center;
      opacity: 0;
      @include transition(opacity);
      mat-icon { color: white; font-size: 36px; width: 36px; height: 36px; }
    }

    &:hover {
      img { transform: scale(1.1); }
      .image-hover-overlay { opacity: 1; }
    }
  }

  .product-details-content {
    display: flex;
    flex-direction: column;
    gap: 14px;
    min-width: 0;

    h3 {
      font-size: 1.1rem;
      font-weight: 600;
      color: $text-dark;
      @include transition(color);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      &:hover { color: $accent-color; }
    }

    .product-meta-info {
      display: flex;
      align-items: center;
      gap: 16px;
      .unit-price { font-size: 1.15rem; font-weight: 700; color: $accent-color; }
      .quantity-badge {
        @include flex-center;
        gap: 6px;
        background: $bg-gray;
        padding: 6px 14px;
        border-radius: 6px;
        font-weight: 500;
        mat-icon { font-size: 18px; width: 18px; height: 18px; color: $text-light; }
      }
    }
  }

  .product-subtotal-wrapper {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 6px;
    .subtotal-label { font-size: 0.75rem; color: $text-light; text-transform: uppercase; }
    .subtotal-amount { font-size: 1.5rem; font-weight: 700; color: $accent-color; }
  }

  .remove-product-button {
    color: $accent-color;
    @include transition;
    &:hover { transform: scale(1.1); background-color: rgba($accent-color, 0.1); }
  }
}
